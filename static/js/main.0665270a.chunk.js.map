{"version":3,"sources":["images/logo.svg","images/hamburgerOpen.svg","images/hamburgerClose.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeletePlacePopup.js","components/ProtectedRoute.js","components/AuthorizationRoute.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","components/Error.js","utils/api.js","utils/auth.js","components/AuthForm.js","components/Register.js","components/Login.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","navText","handleLogout","path","userEmail","React","useState","isHamburgerOpen","setIsHamburgerOpen","toggleHamburger","className","to","onClick","id","src","logo","alt","hamburgerClose","hamburgerOpen","CurrentUserContext","createContext","Card","cardData","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","like","link","name","type","length","Main","props","avatar","isLoading","onEditAvatarClick","onEditProfileClick","about","onAddPlaceClick","cards","map","card","index","onDeletePlaceClick","Footer","PopupWithForm","isValid","updateFormValidity","formRef","useRef","useEffect","current","checkValidity","isOpen","noValidate","ref","onChange","onSubmit","action","title","children","disabled","buttonLabel","onClose","EditProfilePopup","onUpdateUser","isSubmitting","onOverlayClick","updateName","description","updateAbout","isNameInputValid","updateNameInputValidity","isAboutInputValid","updateAboutInputValidity","nameErrorMessage","updateNameErrorMessage","aboutErrorMessage","updateAboutErrorMessage","handleChange","evt","stateUpdater","inputValidityUpdater","errorMessageUpdater","target","value","e","preventDefault","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","isUrlInputValid","updateUrlInputValidity","errorMessage","updateErrorMessage","avatarLink","setAvatarLink","AddPlacePopup","updateLink","isLinkInputValid","updateLinkInputValidity","linkErrorMessage","updateLinkErrorMessage","onAddPlace","ImagePopup","DeletePlacePopup","onDeletePlace","ProtectedRoute","AuthorizationRoute","InfoTooltip","isSuccess","successImage","failImage","Error","api","baseUrl","authorization","this","_baseUrl","res","ok","json","Promise","reject","status","fetch","headers","localStorage","getItem","then","_checkResponse","Authorization","method","body","JSON","stringify","cardId","BASE_URL","AuthForm","button","subtitle","email","setEmail","password","setPassword","handleFormSubmit","Login","setLoggedIn","displayTooltip","history","useHistory","authForm","response","register","push","catch","error","reportValidity","setItem","token","login","App","isEditAvatarPopupOpen","updateAvatarPopupState","isEditProfilePopupOpen","updateEditProfilePopupState","isAddPlacePopupOpen","updateAddPlacePopupState","isDeletePlacePopupOpen","updateDeletePlacePopupState","isInfoToolTipOpen","updateInfoTooltipState","updateLoading","isSubmitPending","updateSubmitPendingStatus","toolTipActionText","setToolTipActionText","setIsSuccess","selectedCard","updateSelectedCard","cardQueuedForDeletion","updateCardQueuedForDeletion","updateCards","updateCurrentUser","setUserEmail","memoizedEscape","useCallback","key","closeAllPopups","memoizedOverlay","classList","contains","removeItem","setEventListeners","window","addEventListener","handleDisplayTooltip","success","text","setTimeout","updateInputValidity","validity","valid","validationMessage","removeEventListener","getGroupCards","data","err","console","getUserInfo","validateUser","Provider","exact","changeLikeCardStatus","likedCard","cardItem","userData","updateProfile","addCard","newCard","updateAvatar","deleteCard","filter","stateCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0665270a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","export default __webpack_public_path__ + \"static/media/hamburgerOpen.a46d5c1c.svg\";","export default __webpack_public_path__ + \"static/media/hamburgerClose.8e33a713.svg\";","import logo from '../images/logo.svg';\nimport hamburgerOpen from '../images/hamburgerOpen.svg';\nimport hamburgerClose from '../images/hamburgerClose.svg';\nimport { Link } from 'react-router-dom';\nimport React from 'react';\n\nexport default function Header({ loggedIn, navText, handleLogout, path, userEmail }) {\n  const [isHamburgerOpen, setIsHamburgerOpen] = React.useState(false);\n\n  function toggleHamburger() {\n    setIsHamburgerOpen(!isHamburgerOpen);\n  }\n\n  function handleLogoutFromDropdown() {\n    toggleHamburger();\n    handleLogout();\n  }\n\n  return (\n    <>\n      {/* fancy dropdown menu */}\n      {loggedIn && (\n        <div className={`header__dropdown ${isHamburgerOpen && 'header__dropdown_open'}`}>\n          <p className=\"header__dropdown-email\">{userEmail}</p>\n          <Link to={path} onClick={handleLogoutFromDropdown} className=\"header__dropdown-link\">\n            {navText}\n          </Link>\n        </div>\n      )}\n      {/* rest of header */}\n      <header className=\"header\">\n        <Link to=\"/\">\n          <img id=\"logo\" src={logo} alt=\"Around the U.S.\" className=\"logo\" />\n        </Link>\n        {loggedIn ? (\n          <div>\n            <nav className=\"header__nav-container\">\n              <p className=\"header__email\">{userEmail}</p>\n              <Link to={path} onClick={handleLogout} className=\"header__link\">\n                {navText}\n              </Link>\n            </nav>\n            <button className=\"header__hamburger\" onClick={toggleHamburger}>\n              <img\n                src={!isHamburgerOpen ? hamburgerOpen : hamburgerClose}\n                className=\"header__hamburger-icon\"\n                alt=\"\"\n              />\n            </button>\n          </div>\n        ) : (\n          <nav className=\"header__nav-container\">\n            <Link to={path} className=\"header__link header__link_loggedout\">\n              {navText}\n            </Link>\n          </nav>\n        )}\n      </header>\n    </>\n  );\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Card({ cardData, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = cardData.owner._id === currentUser._id;\n  // const isOwn = (cardData.owner._id || cardData.owner) === currentUser._id;\n  const isLiked = cardData.likes.some((like) => like._id === currentUser._id);\n  function handleClick() {\n    onCardClick(cardData);\n  }\n\n  function handleLike() {\n    onCardLike(cardData);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(cardData);\n  }\n  return (\n    <article className=\"element\">\n      <img\n        className=\"element__image\"\n        src={cardData.link}\n        alt={`${cardData.name} taken by ${cardData.owner.name}`}\n        onClick={handleClick}\n      />\n      <div className=\"element__name-box\">\n        <h2 className=\"element__name\">{cardData.name}</h2>\n        <div className=\"element__like-container\">\n          <button\n            type=\"button\"\n            name=\"Like image\"\n            onClick={handleLike}\n            className={`element__heart ${isLiked && 'element__heart_liked'}`}\n            aria-label=\"Like photo\"\n          ></button>\n          <p className=\"element__likes\">{cardData.likes.length}</p>\n        </div>\n      </div>\n      <button\n        type=\"button\"\n        name=\"Delete image\"\n        onClick={handleDeleteClick}\n        className={`element__delete ${\n          isOwn ? 'element__delete_visible' : 'element__delete_hidden'\n        }`}\n        aria-label=\"Delete photo\"\n      ></button>\n    </article>\n  );\n}\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__info-box\">\n          <div className=\"profile__avatar-wrapper\">\n            <img\n              id=\"avatar\"\n              src={currentUser.avatar}\n              alt=\"Current user portrait\"\n              className={`profile__avatar ${props.isLoading ? 'shimmer' : ''}`}\n            />\n            <div onClick={props.onEditAvatarClick} className=\"profile__avatar-overlay\"></div>\n          </div>\n          <div className=\"profile__text\">\n            <div className=\"profile__text-top\">\n              <h1 className={`profile__name ${props.isLoading ? 'shimmer' : ''}`}>\n                {currentUser.name}\n              </h1>\n              <button\n                onClick={props.onEditProfileClick}\n                type=\"button\"\n                name=\"Edit profile\"\n                className={`profile__edit-button ${props.isLoading ? 'hide' : ''}`}\n                aria-label=\"Edit profile\"\n              ></button>\n            </div>\n            <p className={`profile__title ${props.isLoading ? 'shimmer' : ''}`}>\n              {currentUser.about}\n            </p>\n          </div>\n        </div>\n        <button\n          onClick={props.onAddPlaceClick}\n          type=\"button\"\n          name=\"Add image\"\n          className={`profile__add-button ${props.isLoading ? 'hide' : ''}`}\n          aria-label=\"Add image\"\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {props.cards.map((card, index) => (\n          <Card\n            onCardLike={props.onCardLike}\n            key={card._id}\n            onCardDelete={props.onDeletePlaceClick}\n            cardData={card}\n            onCardClick={props.onCardClick}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Around the U.S.</p>\n    </footer>\n  );\n}\n","import React from 'react';\n\nexport default function PopupWithForm(props) {\n  const [isValid, updateFormValidity] = React.useState(false);\n  const formRef = React.useRef();\n\n  React.useEffect(() => {\n    updateFormValidity(formRef.current.checkValidity());\n  }, [props.isOpen]);\n\n  function checkFormValidity() {\n    updateFormValidity(formRef.current.checkValidity());\n  }\n\n  return (\n    <div className={`popup popup_role_${props.name} ${props.isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container\">\n        <form\n          noValidate\n          ref={formRef}\n          onChange={checkFormValidity}\n          onSubmit={props.onSubmit}\n          action=\"#\"\n          name={props.title}\n          className={`popup__form popup__form_role_${props.name}`}\n        >\n          <h2 className=\"popup__header\">{props.title}</h2>\n          {props.children}\n          <button\n            type=\"submit\"\n            className={`popup__save-button popup__save-button_role_${props.name} ${\n              !isValid && 'popup__save-button_disabled'\n            }`}\n            disabled={!isValid}\n          >\n            {props.buttonLabel}\n          </button>\n        </form>\n        <button\n          type=\"button\"\n          className={`popup__close popup__close_role_${props.name}`}\n          aria-label=\"Close\"\n          onClick={props.onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  isSubmitting,\n  checkValidity,\n  onOverlayClick,\n}) {\n  const [name, updateName] = React.useState('');\n  const [description, updateAbout] = React.useState('');\n  const [isNameInputValid, updateNameInputValidity] = React.useState(true);\n  const [isAboutInputValid, updateAboutInputValidity] = React.useState(true);\n  const [nameErrorMessage, updateNameErrorMessage] = React.useState('');\n  const [aboutErrorMessage, updateAboutErrorMessage] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleChange(evt, stateUpdater, inputValidityUpdater, errorMessageUpdater) {\n    stateUpdater(evt.target.value);\n    checkValidity(evt, inputValidityUpdater, errorMessageUpdater);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    updateName(currentUser.name || '');\n    updateAbout(currentUser.about || '');\n    updateNameInputValidity(true);\n    updateAboutInputValidity(true);\n  }, [currentUser, isOpen]);\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name=\"edit\"\n      title=\"Edit Profile\"\n      buttonLabel={isSubmitting ? 'Saving...' : 'Save'}\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          placeholder=\"Name\"\n          value={name}\n          onChange={(evt) =>\n            handleChange(evt, updateName, updateNameInputValidity, updateNameErrorMessage)\n          }\n          className=\"popup__input popup__input_role_name\"\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span\n          className={`popup__input-error popup__input-error_name ${\n            !isNameInputValid && 'popup__input-error_active'\n          }`}\n        >\n          {nameErrorMessage}\n        </span>\n        <input\n          type=\"text\"\n          id=\"title\"\n          name=\"about\"\n          placeholder=\"Title\"\n          value={description}\n          onChange={(evt) =>\n            handleChange(evt, updateAbout, updateAboutInputValidity, updateAboutErrorMessage)\n          }\n          className=\"popup__input popup__input_role_title\"\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n        />\n        <span\n          className={`popup__input-error popup__input-error_title ${\n            !isAboutInputValid && 'popup__input-error_active'\n          }`}\n        >\n          {aboutErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nexport default function EditAvatarPopup({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  isSubmitting,\n  checkValidity,\n}) {\n  const [isUrlInputValid, updateUrlInputValidity] = React.useState(true);\n  const [errorMessage, updateErrorMessage] = React.useState('');\n  const [avatarLink, setAvatarLink] = React.useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarLink,\n    });\n  }\n\n  React.useEffect(() => {\n    setAvatarLink('');\n    updateUrlInputValidity(true);\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name=\"avatar\"\n      title=\"Change Profile Picture\"\n      buttonLabel={isSubmitting ? 'Saving...' : 'Save'}\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <div className=\"popup__input-container popup__input-container_role_avatar\">\n        <input\n          onChange={(evt) => {\n            checkValidity(evt, updateUrlInputValidity, updateErrorMessage);\n            setAvatarLink(evt.target.value);\n          }}\n          type=\"url\"\n          id=\"avatar-url\"\n          name=\"avatar\"\n          placeholder=\"Image link\"\n          className=\"popup__input popup__input_role_image-link\"\n          value={avatarLink}\n          required\n        />\n        <span\n          className={`popup__input-error popup__input-error_avatar-url ${\n            !isUrlInputValid && 'popup__input-error_active'\n          }`}\n        >\n          {errorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function AddPlacePopup(props) {\n  const [name, updateName] = React.useState('');\n  const [link, updateLink] = React.useState('');\n  const [isNameInputValid, updateNameInputValidity] = React.useState(true);\n  const [isLinkInputValid, updateLinkInputValidity] = React.useState(true);\n  const [nameErrorMessage, updateNameErrorMessage] = React.useState('');\n  const [linkErrorMessage, updateLinkErrorMessage] = React.useState('');\n\n  function handleChange(e, stateUpdater, inputValidityUpdater, errorMessageUpdater) {\n    stateUpdater(e.target.value);\n    props.checkValidity(e, inputValidityUpdater, errorMessageUpdater);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddPlace({\n      name,\n      link,\n    });\n  }\n\n  React.useEffect(() => {\n    updateName('');\n    updateLink('');\n    updateNameInputValidity(true);\n    updateLinkInputValidity(true);\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      name=\"add\"\n      title=\"New Place\"\n      buttonLabel={props.isSubmitting ? 'Saving...' : 'Save'}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"place\"\n          name=\"name\"\n          placeholder=\"Title\"\n          className=\"popup__input popup__input_role_image-title\"\n          required\n          minLength=\"1\"\n          maxLength=\"30\"\n          value={name}\n          onChange={(e) =>\n            handleChange(e, updateName, updateNameInputValidity, updateNameErrorMessage)\n          }\n        />\n        <span\n          className={`popup__input-error popup__input-error_place ${\n            !isNameInputValid && 'popup__input-error_active'\n          }`}\n        >\n          {nameErrorMessage}\n        </span>\n        <input\n          type=\"url\"\n          id=\"url\"\n          name=\"link\"\n          placeholder=\"Image link\"\n          className=\"popup__input popup__input_role_image-link\"\n          value={link}\n          onChange={(e) =>\n            handleChange(e, updateLink, updateLinkInputValidity, updateLinkErrorMessage)\n          }\n          required\n        />\n        <span\n          className={`popup__input-error popup__input-error_url ${\n            !isLinkInputValid && 'popup__input-error_active'\n          }`}\n        >\n          {linkErrorMessage}\n        </span>\n      </div>\n    </PopupWithForm>\n  );\n}\n","export default function ImagePopup(props) {\n  return (\n    <div className={`popup popup_role_image ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_role_image\">\n        <figure className=\"popup__figure\">\n          <img src={`${props.card ? props.card.link : '#'}`} alt=\"#\" className=\"popup__image\" />\n          <figcaption className=\"popup__caption\">{`${props.card && props.card.name}`}</figcaption>\n        </figure>\n        <button type=\"button\" className=\"popup__close popup__close_role_image\" aria-label=\"Close\" onClick={props.onClose}></button>\n      </div>\n    </div>\n  );\n}\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nexport default function DeletePlacePopup({ isOpen, onClose, onDeletePlace, card, isSubmitting }) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeletePlace(card);\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      name=\"delete\"\n      title=\"Are You Sure?\"\n      buttonLabel={isSubmitting ? 'Deleting...' : 'Yes'}\n      isOpen={isOpen}\n      onClose={onClose}\n    />\n  );\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function ProtectedRoute({ loggedIn, children }) {\n  return <Route>{loggedIn ? children : <Redirect to=\"/signin\" />}</Route>;\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport default function AuthorizationRoute({ loggedIn, children }) {\n  // if user is logged in, redirect to main page until logged out\n  return <Route>{!loggedIn ? children : <Redirect to=\"/\" />}</Route>;\n}\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport successImage from '../images/success.svg';\nimport failImage from '../images/fail.svg';\n\nexport default function InfoTooltip({ isOpen, onClose, isSuccess, action }) {\n  return (\n    <div className={`popup popup_role_tooltip ${isOpen && 'popup_opened'}`}>\n      <div className=\"popup__container popup__container_role_success \">\n        <img src={isSuccess ? successImage : failImage} alt=\"success\" className=\"popup__success\" />\n        <p className=\"popup__message\">\n          {isSuccess\n            ? `Success! You have now been ${action}.`\n            : `Oops, something went wrong! Please try again.`}\n        </p>\n        <button\n          type=\"button\"\n          className={`popup__close popup__close_role_tooltip`}\n          aria-label=\"Close\"\n          onClick={onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Error() {\n  return (\n    <section className=\"error\">\n      <h1 className=\"error__header\">Oops!</h1>\n      <h2 className=\"error__paragraph\">Looks like the page you're looking for doesn't exist.</h2>\n      <Link to=\"/\" className=\"error__link\">\n        Back home\n      </Link>\n    </section>\n  );\n}\n","class Api {\n  constructor({ baseUrl, authorization }) {\n    // constructor body\n    this._baseUrl = baseUrl;\n    // this._auth = authorization;\n  }\n\n  _checkResponse(res) {\n    if (!res.ok) {\n      return Promise.reject(`${res.status} error!`);\n    }\n    return res.json();\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n      },\n    }).then((res) => this._checkResponse(res));\n  }\n\n  getGroupCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n      },\n    }).then((res) => this._checkResponse(res));\n  }\n\n  updateProfile({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  updateAvatar({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ avatar: avatar }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then((res) => this._checkResponse(res));\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    const method = isLiked ? 'DELETE' : 'PUT';\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: method,\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => this._checkResponse(res));\n  }\n\n  likeCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => this._checkResponse(res));\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => this._checkResponse(res));\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json',\n      },\n    }).then((res) => this._checkResponse(res));\n  }\n}\n\n// old api\n// const api = new Api({\n//   baseUrl: 'https://around.nomoreparties.co/v1/group-12',\n//   authorization: 'd45050bb-6054-461f-a7d7-f299e145a1f0',\n// });\n\n// new api with homemade backend\nconst api = new Api({\n  baseUrl: 'https://mccambley-around.herokuapp.com',\n  // baseUrl: 'http://localhost:3000', old\n  // baseUrl: 'https://api.mccambley.students.nomoreparties.site', old\n  // authorization: 'd45050bb-6054-461f-a7d7-f299e145a1f0',\n});\n\nexport default api;\n","// const BASE_URL = 'http://localhost:3000';\nconst BASE_URL = 'https://mccambley-around.herokuapp.com/';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  }).then((response) => {\n    if (response.status === 201) {\n      return response.json();\n    }\n    if (response.status === 400) {\n      throw new Error(\n        'One of the fields was filled in incorrectly or a user with that email already exists'\n      );\n    }\n  });\n};\n\nexport const login = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      email: email,\n      password: password,\n    }),\n  })\n    .then((response) => {\n      if (response.status === 200) {\n        return response.json();\n      }\n      if (response.status === 400) {\n        throw new Error('One or more of the fields were not provided');\n      }\n      if (response.status === 401) {\n        throw new Error('The user with the specified email not found ');\n      }\n    })\n    .then((res) => {\n      localStorage.setItem('token', res.token);\n      return res;\n    });\n};\n\nexport const validateUser = () => {\n  const token = localStorage.getItem('token');\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  }).then((response) => {\n    if (response.status === 200 || response.status === 201) {\n      return response.json();\n    }\n    if (response.status === 400) {\n      throw new Error('Token not provided or provided in the wrong format');\n    }\n    if (response.status === 401) {\n      throw new Error('The provided token is invalid ');\n    }\n  });\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function AuthForm({\n  title,\n  button,\n  subtitle,\n  path,\n  email,\n  setEmail,\n  password,\n  setPassword,\n  formRef,\n  handleFormSubmit,\n}) {\n  return (\n    <div className=\"auth\">\n      <form action=\"login\" className=\"auth__form\" ref={formRef} onSubmit={handleFormSubmit}>\n        <h1 className=\"auth__title\">{title}</h1>\n        <div className=\"auth__input-container\">\n          <input\n            type=\"email\"\n            name=\"email\"\n            className=\"auth__input\"\n            value={email}\n            placeholder=\"Email\"\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            className=\"auth__input\"\n            value={password}\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n        </div>\n        <button type=\"submit\" className=\"auth__button\">\n          {button}\n        </button>\n        <Link to={path} className=\"auth__subtitle\">\n          {subtitle}\n        </Link>\n      </form>\n    </div>\n  );\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AuthForm from './AuthForm';\nimport { register } from '../utils/auth';\n\nexport default function Login({ setLoggedIn, displayTooltip }) {\n  const history = useHistory();\n  // auth states\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  // tooltip states\n  const authForm = React.useRef();\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n\n    // prevent submission if form is invalid\n    if (!authForm.current.checkValidity()) {\n      authForm.current.reportValidity();\n      return;\n    }\n\n    register(email, password)\n      .then((res) => {\n        if (res) {\n          displayTooltip(true, 'registered');\n          setEmail('');\n          setPassword('');\n          history.push('/signin');\n        } else {\n          displayTooltip(false, '');\n        }\n      })\n      .catch((error) => {\n        displayTooltip(false, '');\n      });\n  }\n\n  return (\n    <AuthForm\n      title=\"Sign up\"\n      button=\"Sign up\"\n      subtitle=\"Already a member? Log in here!\"\n      path=\"/signin\"\n      email={email}\n      setEmail={setEmail}\n      password={password}\n      setPassword={setPassword}\n      formRef={authForm}\n      handleFormSubmit={handleFormSubmit}\n    />\n  );\n}\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport AuthForm from './AuthForm';\nimport { login } from '../utils/auth';\n\nexport default function Login({ setLoggedIn, displayTooltip }) {\n  const history = useHistory();\n  // auth states\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  // tooltip states\n  const authForm = React.useRef();\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n\n    // prevent submission if form is invalid\n    if (!authForm.current.checkValidity()) {\n      authForm.current.reportValidity();\n      return;\n    }\n\n    login(email, password)\n      .then((res) => {\n        if (res) {\n          displayTooltip(true, 'logged in');\n          setLoggedIn(true);\n          setEmail('');\n          setPassword('');\n          history.push('/');\n        } else {\n          displayTooltip(false, '');\n        }\n      })\n      .catch((error) => {\n        displayTooltip(false, '');\n      });\n  }\n\n  return (\n    <AuthForm\n      title=\"Log in\"\n      button=\"Log in\"\n      subtitle=\"Not a member yet? Sign up here!\"\n      path=\"/signup\"\n      email={email}\n      setEmail={setEmail}\n      password={password}\n      setPassword={setPassword}\n      formRef={authForm}\n      handleFormSubmit={handleFormSubmit}\n    />\n  );\n}\n","import React from 'react';\nimport { Switch, Route, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport DeletePlacePopup from './DeletePlacePopup';\nimport ProtectedRoute from './ProtectedRoute';\nimport AuthorizationRoute from './AuthorizationRoute';\nimport InfoTooltip from './InfoTooltip';\nimport Error from './Error';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport { validateUser } from '../utils/auth';\nimport Register from './Register';\nimport Login from './Login';\n\nfunction App() {\n  // popup states\n  const [isEditAvatarPopupOpen, updateAvatarPopupState] = React.useState(false);\n  const [isEditProfilePopupOpen, updateEditProfilePopupState] = React.useState(false);\n  const [isAddPlacePopupOpen, updateAddPlacePopupState] = React.useState(false);\n  const [isDeletePlacePopupOpen, updateDeletePlacePopupState] = React.useState(false);\n  const [isInfoToolTipOpen, updateInfoTooltipState] = React.useState(false);\n  // UX states\n  const [isLoading, updateLoading] = React.useState(true);\n  const [isSubmitPending, updateSubmitPendingStatus] = React.useState(false);\n  const [toolTipActionText, setToolTipActionText] = React.useState('');\n  const [isSuccess, setIsSuccess] = React.useState(true);\n\n  // card states\n  const [selectedCard, updateSelectedCard] = React.useState(null);\n  const [cardQueuedForDeletion, updateCardQueuedForDeletion] = React.useState(null);\n  const [cards, updateCards] = React.useState([]);\n  // user states\n  const [currentUser, updateCurrentUser] = React.useState({});\n  const [userEmail, setUserEmail] = React.useState('');\n  // auth states\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const history = useHistory();\n\n  const memoizedEscape = React.useCallback((evt) => {\n    evt.key === 'Escape' && closeAllPopups();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const memoizedOverlay = React.useCallback((evt) => {\n    evt.target.classList.contains('popup') && closeAllPopups();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  React.useEffect(() => {\n    loggedIn &&\n      api\n        .getGroupCards()\n        .then((data) => {\n          updateCards(data.data);\n        })\n        .catch((err) => console.error(`Problem fetching cards cards: ${err}`));\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    loggedIn &&\n      api\n        .getUserInfo()\n        .then((res) => {\n          updateCurrentUser(res.data);\n          updateLoading(false);\n        })\n        .catch((err) => console.error(`Problem fetching user information: ${err}`));\n  }, [loggedIn]);\n\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) {\n      validateUser()\n        .then((res) => {\n          setUserEmail(res.data.email);\n          setLoggedIn(true);\n        })\n        .catch((err) => {\n          console.error(`Validation error: ${err}`);\n          handleLogout();\n          history.push('/signin');\n        });\n    }\n  }, [history, loggedIn]);\n\n  function handleLogout() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    setUserEmail('');\n  }\n\n  function setEventListeners() {\n    window.addEventListener('keydown', memoizedEscape);\n    window.addEventListener('click', memoizedOverlay);\n  }\n\n  function handleAvatarClick() {\n    updateAvatarPopupState(true);\n    setEventListeners();\n  }\n\n  function handleEditProfileClick() {\n    updateEditProfilePopupState(true);\n    setEventListeners();\n  }\n\n  function handleAddPlaceClick() {\n    updateAddPlacePopupState(true);\n    setEventListeners();\n  }\n\n  function handleCardClick(cardData) {\n    updateSelectedCard(cardData);\n    setEventListeners();\n  }\n\n  function handleDeletePlaceClick(cardData) {\n    updateDeletePlacePopupState(true);\n    updateCardQueuedForDeletion(cardData);\n    setEventListeners();\n  }\n\n  function handleUpdateUser(userData) {\n    updateSubmitPendingStatus(true);\n    api\n      .updateProfile(userData)\n      .then((res) => {\n        updateCurrentUser(res.data);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch((err) => console.error(`Problem updating profile: ${err}`));\n  }\n\n  function handleUpdateAvatar(userData) {\n    updateSubmitPendingStatus(true);\n    api\n      .updateAvatar(userData)\n      .then((res) => {\n        updateCurrentUser(res.data);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch((err) => console.error(`Problem updating avatar: ${err}`));\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((likedCard) => {\n        updateCards(\n          cards.map((cardItem) => (cardItem._id === card._id ? likedCard.data : cardItem))\n        );\n      })\n      .catch((err) => console.error(`Problem updating 'like' status: ${err}`));\n  }\n\n  function handleDeletePlaceSubmit(card) {\n    updateSubmitPendingStatus(true);\n    api\n      .deleteCard(card._id)\n      .then((response) => {\n        updateCards(cards.filter((stateCard) => stateCard !== card));\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch((err) => console.error(`Problem deleting card: ${err}`));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    updateSubmitPendingStatus(true);\n    api\n      .addCard(card)\n      .then((newCard) => {\n        updateCards([newCard.data, ...cards]);\n        closeAllPopups();\n        updateSubmitPendingStatus(false);\n      })\n      .catch((err) => console.error(`Problem adding new place: ${err}`));\n  }\n\n  function handleDisplayTooltip(success, text) {\n    setEventListeners();\n    setIsSuccess(success);\n    setToolTipActionText(text);\n    updateInfoTooltipState(true);\n    setTimeout(() => {\n      closeAllPopups();\n    }, 2000);\n  }\n\n  function updateInputValidity(evt, inputValidityUpdater, errorMessageUpdater) {\n    if (!evt.target.validity.valid) {\n      inputValidityUpdater(false);\n      errorMessageUpdater(evt.target.validationMessage);\n    } else {\n      inputValidityUpdater(true);\n      errorMessageUpdater('');\n    }\n  }\n\n  function closeAllPopups() {\n    updateAvatarPopupState(false);\n    updateEditProfilePopupState(false);\n    updateAddPlacePopupState(false);\n    updateDeletePlacePopupState(false);\n    updateInfoTooltipState(false);\n    updateSelectedCard(null);\n    window.removeEventListener('keydown', memoizedEscape);\n    window.removeEventListener('click', memoizedOverlay);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n          <AuthorizationRoute path=\"/signin\" loggedIn={loggedIn}>\n            <Header loggedIn={loggedIn} navText=\"Sign up\" path=\"/signup\" userEmail={userEmail} />\n            <Login setLoggedIn={setLoggedIn} displayTooltip={handleDisplayTooltip} />\n          </AuthorizationRoute>\n          <AuthorizationRoute path=\"/signup\" loggedIn={loggedIn}>\n            <Header loggedIn={loggedIn} navText=\"Log in\" path=\"/signin\" userEmail={userEmail} />\n            <Register setLoggedIn={setLoggedIn} displayTooltip={handleDisplayTooltip} />\n          </AuthorizationRoute>\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn}>\n            <Header\n              loggedIn={loggedIn}\n              handleLogout={handleLogout}\n              navText=\"Log out\"\n              path=\"/signin\"\n              userEmail={userEmail}\n            />\n            <Main\n              onEditAvatarClick={handleAvatarClick}\n              onEditProfileClick={handleEditProfileClick}\n              onAddPlaceClick={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              isLoading={isLoading}\n              onCardLike={handleCardLike}\n              onDeletePlaceClick={handleDeletePlaceClick}\n              cards={cards}\n            />\n            <Footer />\n            <EditProfilePopup\n              isSubmitting={isSubmitPending}\n              onUpdateUser={handleUpdateUser}\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              checkValidity={updateInputValidity}\n            />\n            <AddPlacePopup\n              isSubmitting={isSubmitPending}\n              onAddPlace={handleAddPlaceSubmit}\n              isOpen={isAddPlacePopupOpen}\n              onClose={closeAllPopups}\n              checkValidity={updateInputValidity}\n            />\n            <EditAvatarPopup\n              isSubmitting={isSubmitPending}\n              onUpdateAvatar={handleUpdateAvatar}\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              checkValidity={updateInputValidity}\n            />\n            <DeletePlacePopup\n              isSubmitting={isSubmitPending}\n              card={cardQueuedForDeletion}\n              onDeletePlace={handleDeletePlaceSubmit}\n              isOpen={isDeletePlacePopupOpen}\n              onClose={closeAllPopups}\n            />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          </ProtectedRoute>\n          <Route>\n            <Header />\n            <Error />\n          </Route>\n        </Switch>\n        <InfoTooltip\n          isOpen={isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          isSuccess={isSuccess}\n          action={toolTipActionText}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}